(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{243:function(e,a,o){},252:function(e,a,o){},253:function(e,a,o){var t,n,i,r,d,s;o(25);var c={};function l(e){e(window.YZWF.eorzeaMap)}function f(){d.remove(),i=null}function p(e){if((n=e).getRegion().then((function(e){for(var a=0;a<e.length;a++)for(var o=0;o<e[a].maps.length;o++){var t=e[a].maps[o],n=t.name;c[n]||(c[n]=t.key),t.subName&&(n=t.name+","+t.subName),c[n]||(c[n]=t.key)}window.YZWF.loadMap=u})),s=$(['<section class="erozea-map-outer">','<div class="eorzea-map-glass"></div>','<div class="eorzea-map-move-handler"></div>','<div class="eorzea-map-close-button">关闭</div>','<div class="eorzea-map-inner"></div>','<div class="eorzea-map-resize-handler"></div>',"</section>"].join("")),window.innerWidth<500)s.css({top:"20%",left:0,width:"100%",height:"80%"}),s.addClass("eorzea-map-fixed-window");else{if(localStorage&&localStorage.YZWFEorzeaMapPos){var a=localStorage.YZWFEorzeaMapPos.split(",");2===a.length&&s.css({top:a[0]+"px",left:a[1]+"px"})}if(localStorage&&localStorage.YZWFEorzeaMapSize){var o=localStorage.YZWFEorzeaMapSize.split(",");2===o.length&&s.css({width:o[0]+"px",height:o[1]+"px"})}d=s.find(".eorzea-map-move-handler"),l=s,v(d,{down:function(){},move:function(e){var a="("+e.diffX+"px, "+e.diffY+"px, 0)";l.css({transform:"translate3d"+a})},up:function(){var e=l.position();l.css({top:e.top,left:e.left,transform:"none"}),localStorage&&(localStorage.YZWFEorzeaMapPos=e.top+","+e.left)}}),function(e,a){var o,n;v(e,{down:function(){o=a.height(),n=a.width()},move:function(e){a.height(o+e.diffY),a.width(n+e.diffX)},up:function(e){t.invalidateSize(),localStorage&&(localStorage.YZWFEorzeaMapSize=n+e.diffX+","+(o+e.diffY))}})}(s.find(".eorzea-map-resize-handler"),s)}var d,l;s.find(".eorzea-map-close-button").click(h),s.appendTo("body"),e.create(s.find(".eorzea-map-inner")[0]).then((function(e){s.css({display:"none",visibility:"visible"}),t=e,i&&(u.apply(this,i),f())})).catch((function(e){throw r=e,i&&(alert("地图加载失败，原因："+e.message),f()),e}))}function u(e,a,o,n){if(!e&&a&&(e=c[a]),e)return s.show(),t.loadMapKey(e).then((function(){o&&n&&m(t,o,n,!0)})).catch((function(e){console.error(e)}));alert("没有找到地图: "+a+"，请检查拼写或地图名字")}function m(e,a,o,t){var i=n.simpleMarker(a,o,"https://cafemaker.wakingsands.com/i/060000/060561.png",e.mapInfo);i.addTo(e),e.markers.push(i),t&&setTimeout((function(){e.setView(e.mapToLatLng2D(a,o),-1)}),0)}function h(){s.hide()}function v(e,a){var o,t,n=!1;e.on("mousedown pointerdown touchdown",(function(e){e.preventDefault(),n=!0,o=e.clientX,t=e.clientY,a.down({startX:o,startY:t})})),$(window).on("mousemove pointermove touchmove",(function(e){if(n){e.preventDefault();var i=e.clientX-o,r=e.clientY-t;a.move({diffX:i,diffY:r})}})),$(window).on("mouseup pointerup touchup",(function(e){if(n){n=!1,e.preventDefault();var i=e.clientX-o,r=e.clientY-t;a.up({diffX:i,diffY:r})}}))}"undefined"!=typeof window&&(window.YZWF=window.YZWF||{},window.YZWF.mapSettedUp=window.YZWF.mapSettedUp||!1,window.YZWF.mapSettedUp||(l(p),$("body").on("click",".eorzea-map-trigger",(function(){var e=$(this).data("map-id"),a=$(this).data("map-name"),o=$(this).data("map-x"),n=$(this).data("map-y");t?u(e,a,o,n):function(e,a){if(d||(d=$('<div class="eorzea-map-loading"><div class="ff14-loading"></div><div class="eorzea-map-loading-text"></div></div>')).click((function(){f()})),r){if(!confirm("地图加载失败，是否重试？"))return;l(p)}d.find(".eorzea-map-loading-text").text("正在加载 "+e.text()+" 的地图…"),d.appendTo("body"),i=a}($(this),[e,a,o,n])})),$("body").on("click",".eorzea-map-group-show-all",(function(){var e=$(this).parents(".eorzea-map-group");if(e.length){var a=e.find(".eorzea-map-trigger"),o="",n=[];a.each((function(){o=$(this).data("map-name"),n.push([$(this).data("map-x"),$(this).data("map-y")])})),u(null,o).then((function(){for(var e=0;e<n.length;e++)m(t,n[e][0],n[e][1])}))}else alert("没有找到坐标组；或许是模板使用不正确？")})),window.YZWF.mapSettedUp=!0))},254:function(e,a,o){"use strict";o(243)},260:function(e,a,o){"use strict";o.r(a);o(252),o(253);var t={},n=(o(254),o(16)),i=Object(n.a)(t,(function(){return(0,this._self._c)("div",{attrs:{id:"root"}},[this._t("default")],2)}),[],!1,null,null,null);a.default=i.exports}}]);